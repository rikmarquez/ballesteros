# Protocolo de Trabajo con Claude Code

## ğŸ“‹ Estructura de Archivos Requerida

Crear estos archivos en la raÃ­z del proyecto:

```
/docs/
  â”œâ”€â”€ project-status.md        # Estado actual del proyecto
  â”œâ”€â”€ technical-specs.md        # Arquitectura y especificaciones tÃ©cnicas
  â””â”€â”€ session-learnings.md      # Aprendizajes y soluciones
```

---

## 1ï¸âƒ£ PROJECT-STATUS.MD

```markdown
# Estado del Proyecto

**Ãšltima actualizaciÃ³n:** [FECHA]
**VersiÃ³n:** [X.X.X]
**Ambiente de despliegue:** Railway

## ğŸ¯ Objetivo del Proyecto
[DescripciÃ³n breve del propÃ³sito de la aplicaciÃ³n]

## âœ… Funcionalidades Completadas
- [ ] Feature 1: [DescripciÃ³n]
- [ ] Feature 2: [DescripciÃ³n]
- [ ] Feature 3: [DescripciÃ³n]

## ğŸš§ En Progreso
- [ ] [Tarea actual 1]
- [ ] [Tarea actual 2]

## ğŸ“ PrÃ³ximos Pasos
1. [Siguiente tarea prioritaria]
2. [Siguiente tarea]
3. [Backlog item]

## ğŸ› Bugs Conocidos
- [Bug 1]: [DescripciÃ³n y estado]
- [Bug 2]: [DescripciÃ³n y estado]

## ğŸ”§ ConfiguraciÃ³n Actual
- **Framework:** [React/Vue/Node/etc]
- **Base de datos:** [PostgreSQL/MongoDB/etc]
- **Deploy:** Railway
- **Variables de entorno necesarias:**
  - `DATABASE_URL`
  - `API_KEY`
  - [Otras variables]

## ğŸ“Œ Notas Importantes
- [DecisiÃ³n arquitectÃ³nica importante 1]
- [ConsideraciÃ³n especial 2]
```

---

## 2ï¸âƒ£ TECHNICAL-SPECS.MD

```markdown
# Especificaciones TÃ©cnicas

## ğŸ—„ï¸ Estructura de Base de Datos

### Tabla: users
```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
```

### Tabla: [otra_tabla]
```sql
-- DefiniciÃ³n de tabla
```

## ğŸ”Œ Endpoints API

### AutenticaciÃ³n
- `POST /api/auth/register` - Registro de usuario
  - Body: `{ email, password }`
  - Response: `{ token, user }`

- `POST /api/auth/login` - Login
  - Body: `{ email, password }`
  - Response: `{ token, user }`

### [Recurso]
- `GET /api/[recurso]` - Listar todos
  - Query params: `?page=1&limit=10`
  - Response: `{ data: [], total, page }`

- `POST /api/[recurso]` - Crear nuevo
  - Body: `{ campo1, campo2 }`
  - Response: `{ id, ...campos }`

## ğŸ—ï¸ Arquitectura del Proyecto

```
/src
  /components     # Componentes React
  /pages          # PÃ¡ginas/rutas
  /services       # Servicios y lÃ³gica de negocio
  /utils          # Utilidades y helpers
  /config         # ConfiguraciÃ³n
/server
  /routes         # Rutas del API
  /controllers    # Controladores
  /models         # Modelos de datos
  /middleware     # Middleware
```

## ğŸš€ Deploy en Railway

### Variables de Entorno
```env
DATABASE_URL=postgresql://...
PORT=3000
NODE_ENV=production
```

### Comandos de Build
- Build: `npm run build`
- Start: `npm start`

### ConfiguraciÃ³n Railway
- Framework: [Framework detectado]
- Build command: [comando]
- Start command: [comando]
```

---

## 3ï¸âƒ£ SESSION-LEARNINGS.MD

```markdown
# Aprendizajes y Soluciones

## SesiÃ³n: [FECHA]

### âœ… Problemas Resueltos

#### Problema 1: [TÃ­tulo descriptivo]
**Contexto:** [QuÃ© estÃ¡bamos intentando hacer]

**Error encontrado:**
```
[Mensaje de error o descripciÃ³n del problema]
```

**SoluciÃ³n aplicada:**
[DescripciÃ³n de la soluciÃ³n paso a paso]

**CÃ³digo relevante:**
```javascript
// SoluciÃ³n implementada
```

**Aprendizaje:** [QuÃ© aprendimos para el futuro]

---

#### Problema 2: [TÃ­tulo]
[Misma estructura...]

### ğŸ’¡ Mejores PrÃ¡cticas Descubiertas
- [PrÃ¡ctica 1]: [DescripciÃ³n]
- [PrÃ¡ctica 2]: [DescripciÃ³n]

### ğŸ” Para Investigar
- [ ] [Tema pendiente de investigar]
- [ ] [OptimizaciÃ³n a considerar]
```

---

## ğŸš€ CLAUDE.MD - ARCHIVO DE ENTRADA

### Crear archivo `claude.md` en la raÃ­z del proyecto:

```markdown
# Protocolo de Inicio - Claude Code

## ğŸ¯ Instrucciones de Inicio de SesiÃ³n

Hola Claude Code! Al iniciar cada sesiÃ³n, por favor:

### 1. Lee la documentaciÃ³n del proyecto
Debes leer estos archivos EN ORDEN:

1. **`docs/project-status.md`** - Para conocer el estado actual
2. **`docs/technical-specs.md`** - Para entender la arquitectura
3. **`docs/session-learnings.md`** - Para aprender de sesiones anteriores

### 2. Contexto del Proyecto

**Deploy:** Este proyecto estÃ¡ desplegado en Railway
**Importante:** Todas las configuraciones de despliegue estÃ¡n en `technical-specs.md`

### 3. Proceso de Inicio

DespuÃ©s de leer los archivos:
1. Confirma que comprendes el estado actual del proyecto
2. Resume brevemente:
   - QuÃ© estÃ¡ completo
   - QuÃ© estÃ¡ en progreso
   - Problemas conocidos
3. PregÃºntame: **"Â¿En quÃ© vamos a trabajar hoy?"**

### 4. Durante la SesiÃ³n

- Consulta `session-learnings.md` antes de resolver problemas similares
- Si encuentras un error, revisa si hay una soluciÃ³n documentada
- MantÃ©n en mente la estructura de datos y endpoints de `technical-specs.md`

### 5. Al Finalizar la SesiÃ³n

RecuÃ©rdame actualizar:
- [ ] `project-status.md` - Estado y prÃ³ximos pasos
- [ ] `technical-specs.md` - Si hubo cambios en arquitectura/BD/endpoints
- [ ] `session-learnings.md` - Problemas encontrados y soluciones

---

## ğŸ“Œ Reglas Importantes

1. **Siempre lee los docs antes de empezar a codear**
2. **Referencia los aprendizajes previos cuando sea relevante**
3. **Sigue las convenciones establecidas en technical-specs.md**
4. **Railway es nuestro ambiente de despliegue - considera esto en decisiones tÃ©cnicas**

---

**VersiÃ³n del protocolo:** 1.0
**Ãšltima actualizaciÃ³n:** [FECHA]
```

## ğŸš€ PROTOCOLO DE INICIO DE SESIÃ“N (ACTUALIZADO)

### Al iniciar sesiÃ³n con Claude Code:

1. **Comando inicial:**
```bash
claude-code
```

2. **Claude Code automÃ¡ticamente lee `claude.md`** y ejecutarÃ¡ las instrucciones

3. **Claude Code responderÃ¡** con un resumen del estado y preguntarÃ¡ objetivos

4. **Trabajar en la sesiÃ³n** normalmente

---

## ğŸ“ PROTOCOLO DE FIN DE SESIÃ“N

### Antes de cerrar la sesiÃ³n:

1. **Actualizar project-status.md:**
   - Marcar tareas completadas
   - Actualizar "En Progreso"
   - AÃ±adir nuevos "PrÃ³ximos Pasos"
   - Actualizar bugs si corresponde

2. **Actualizar technical-specs.md:**
   - Si se crearon nuevos endpoints
   - Si cambiÃ³ la estructura de BD
   - Si se modificÃ³ la arquitectura

3. **Actualizar session-learnings.md:**
   - Documentar problemas encontrados y sus soluciones
   - AÃ±adir aprendizajes importantes
   - Marcar temas para investigar

4. **Comando final a Claude Code:**
```
Hemos terminado la sesiÃ³n. Por favor:
1. Resume lo que logramos hoy
2. RecuÃ©rdame actualizar los archivos de documentaciÃ³n
3. Sugiere prioridades para la prÃ³xima sesiÃ³n
```

---

## ğŸ¯ BENEFICIOS DE ESTE PROTOCOLO

âœ… **Continuidad:** Cada sesiÃ³n comienza con contexto completo
âœ… **Trazabilidad:** Historial de decisiones y soluciones
âœ… **Eficiencia:** Menos tiempo explicando el proyecto
âœ… **Conocimiento:** Base de datos de soluciones acumuladas
âœ… **Onboarding:** FÃ¡cil para nuevos desarrolladores o Claude Code fresco

---

## ğŸ“Œ TIPS ADICIONALES

- Commitea los archivos de docs/ frecuentemente
- Usa formato consistente en fechas: YYYY-MM-DD
- SÃ© especÃ­fico en las descripciones de problemas
- Incluye cÃ³digo relevante en los aprendizajes
- Actualiza la versiÃ³n en cada deploy significativo